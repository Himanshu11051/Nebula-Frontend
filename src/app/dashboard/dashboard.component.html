<div class = "wrapper">
  <div class= "mainPanel">
    <div class = "gradientBand"></div>
    <nav class="navbar">
      <img src="assets/logo.png" alt="logo" width="72" height="72">
      <span class="navbar-brand">NEBULA</span>
      <div class="" id="navigation">
        <ul class="navbar-nav ml-auto">                
          <li class="dropdown nav-item">
            <a href="javascript:void(0)" class="dropdown-toggle nav-link" data-toggle="dropdown" aria-expanded="false">
              <div class="photo">
               <img src = "assets/avatar-512.png">
              </div>
            </a>
            <ul class="dropdown-menu dropdown-navbar">
              <li class="nav-link">
                <a routerLink="/" href="javascript:void(0)" class="nav-item dropdown-item">Log out</a>
              </li>
            </ul>
          </li>
          <li class="separator d-lg-none"></li>
        </ul>
      </div>  
    </nav>
    <div class = "content dashboardContainer">
      <div class = "configureBotSection">
        <div class = "banner">
            <h5>Let's go through few steps to configure your bot.</h5>
        </div>
        <div class="steps">
          <ul>
            <li (click)="changeStep(1)" [class.completed]="currentStep == 1">
              <span>1</span>
              <p>Name</p>
            </li>
            <li (click)="changeStep(2)" [class.completed]="currentStep == 2">
              <span>2</span>
              <p>Settings</p>
            </li>
            <li (click)="changeStep(3)" [class.completed]="currentStep == 3">
                <span>3</span>
                <p>Export</p>
            </li>
          </ul>
        </div>
        <div class="card stepsContainer">
          <div class="body">
              <div class = "step1" *ngIf="currentStep == 1">
                  <div class = "heading">
                    <span class = "stepNo">1</span><h2>Configure Name</h2>
                  </div>
                  <div class="mainBody">
                    <div class="col-md-12">
                        <form action="#">
                            <div class="form-group">
                              <label>Name your Knowledge Base <span>*</span></label>
                              <input [(ngModel)]="nebula.name" name="name" type="text" class="form-control" required>
                            </div>
                            <div class = "info">
                                <span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z"/></svg> 
                                </span>
                                <p> The knowledge base is a central place which keeps a set of question/answer.  Knowledge base name is for your reference and you can change it at anytime. We will create a Knowledge base for you with the name that you will provide. </p>
                            </div>
                          </form>
                    </div>
                  </div>
                </div>
              <div class = "step2" *ngIf="currentStep == 2">
                  <div class = "heading">
                    <span class = "stepNo">2</span><h2>Configure your Bot Settings</h2>
                  </div>
                  <div class="mainBody">
                      <div class="col-md-12">
                          <form action="#">
                              <div class="row">
                                  <div class="col-md-10">
                                      <label>Your Knowledge Base URL <span>*</span></label>
                                      <input [(ngModel)]="nebula.url" name="url" type="url" class="form-control" required>
                                  </div>
                                  <div class="col-md-2 middleLine">
                                      <button  (click)="setKB()" class="btn addKB float-right">Add KB</button>
                                  </div>
                              </div>  
                              <div class = "info">
                                  <span>
                                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z"/></svg> 
                                  </span>
                                  <p> Just provide us your FAQ url containing questions and answers in sequence. We will extract question-and-answer pairs from your online FAQ. These question-and-answer will be used by the Bot to answer user queries. If you later make any changes to your FAQ url, your Knowledge base will be automatically updated. </p>
                              </div>                
                            </form>
                      </div>
                  </div>
                </div>
              <div class = "step3" *ngIf="currentStep == 3">
                  <div class = "heading">
                    <span class = "stepNo">3</span><h2>Export Embeddable Chat Bot Code</h2>
                  </div>
                  <div class="mainBody">
                    <div class="col-md-12">
                      <div class="col-md-6 jsSection">
                        <h5>Embed Javascript File</h5>
                        <ol>
                          <li><a (click)="downloadJsFile()" href="https://nebulablob.blob.core.windows.net/nebulablobcontainer/nebula-bot.js.zip" download target = "_blank">Download</a> this Javascript file </li>
                          <li>Add the downloaded Javascript file in your application's assest folder</li>
                          <li>Include relative path of this file in your index.html</li>
                          <li>Your chat bot window will appear</li>
                        </ol>
                      </div>
                      <div class="col-md-6 wpSection">
                          <h5>Embed Wordpress Plugin</h5>
                          <ol>
                              <li><a (click)="downloadWpPlugin()" href = "https://nebulablob.blob.core.windows.net/nebulablobcontainer/nebula-the-chatbot.zip" download target = "_blank">Download</a> this Wordpress plugin </li>
                              <li>Add the downloaded plugin to your WordPress site</li>
                              <li>Activate the plugin from your WordPess admin page</li>
                              <li>Your chat bot window will appear</li>
                            </ol>
                      </div>
                    </div>
                  </div>
                </div>

          </div>
          <div class="footer">
              <button class="btn btn-default previous" *ngIf="currentStep > 1" (click)="previousStep()">Previous</button>
              <button class="btn btn-default  finish" *ngIf="currentStep < 3" (click)="nextStep()">Next</button>
              <button class="btn next" *ngIf="currentStep == 3" (click)="finish()">Finish</button>
          </div>
        </div>
      </div>

    </div>

  </div>
</div>
<div class="modal fade" id="myModal">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Just a few more seconds!</h4>
          <img class = "loader" src = "assets/loader.gif">
          <!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          {{loaderText}}
          
        </div>
        
        <!-- Modal footer -->
        <!-- <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div> -->
        
      </div>
    </div>
  </div>
